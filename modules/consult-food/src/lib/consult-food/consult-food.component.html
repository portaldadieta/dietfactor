<div class="container">
  <main class="food-container">
    <form [formGroup]="foodSearchForm" class="form-container">
      <h1 class="title">Consultar alimentos ( {{ filteredFoods.length }} )</h1>
      <mat-form-field appearance="fill" class="food-search">
        <mat-label>Alimentos...</mat-label>
        <label class="sr-only" for="search-food">Consultar alimentos</label>
        <input
          type="search"
          formControlName="foodName"
          id="search-food"
          placeholder="Ex. Frango grelhado"
          matInput
        />
      </mat-form-field>
    </form>

    <section class="my-foods-container">
      @for(food of filteredFoods; track food) {
      <mat-card class="food-card" (click)="openDialog(food)">
        <mat-card-header>
          <mat-card-title-group>
            <mat-card-title>{{ food.name }}</mat-card-title>
          </mat-card-title-group>
          <mat-icon> restaurant_menu </mat-icon>
        </mat-card-header>

        <mat-card-content>
          <ul>
            <li>Total kcal: {{ food.kcal }}</li>
            <li>
              Macros (gr): {{ food.protein }} p / {{ food.carbs }} c /
              {{ food.fat }} g
            </li>
          </ul>
        </mat-card-content>
      </mat-card>
      } @empty {
      <div class="food-not-found">
        <p class="not-found-message">
          NÃ£o foram encontrados alimentos com esse nome
          <mat-icon> sentiment_very_dissatisfied </mat-icon>
        </p>
      </div>
      }
    </section>
  </main>
</div>